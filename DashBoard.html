<!DOCTYPE html>
<html>

<head>
    <style>
        button {
            float: right;
        }

        .hello {
            float: left;
        }
    </style>
</head>

<body>

    <button onclick="display()">Create a Quiz</button>


    <script>
        function display() {
            alert("Welcome To The ADMIN");
            var code = document.createElement("h1");
            code.textContent = "how many questions you want to prepare ?";
            document.body.appendChild(code);
            var code1 = document.createElement("input");
            code1.type = "text";
            code1.id = "QuestionCount";
            document.body.appendChild(code1);
            var br = document.createElement("br");
            document.body.appendChild(br);
            var br2 = document.createElement("br");
            document.body.appendChild(br2);
            var button1 = document.createElement("button");
            button1.classList = "hello";
            button1.textContent = "submit";
            button1.onclick = CreatTable;
            document.body.appendChild(button1);
            var br3 = document.createElement("br");
            document.body.appendChild(br3);
            var br4 = document.createElement("br");
            document.body.appendChild(br4);
            function CreatTable() {
                var question = document.getElementById("QuestionCount").value;

                if (!question || question <= 0) {
                    alert("please enter a valid number of questions");
                    return;
                }
                var existingTable = document.querySelector("table");
                if (existingTable) {
                    existingTable.remove();
                }

                var table = document.createElement("table");
                table.border = 1;
                var row1 = document.createElement("tr");
                var head = document.createElement("th");
                head.textContent = "S.no";
                row1.appendChild(head);
                var head1 = document.createElement("th");
                head1.textContent = "QUESTION";
                var head2 = document.createElement("th");
                head2.textContent = "QUESTION TYPE";
                row1.appendChild(head1);
                row1.appendChild(head2);
                table.appendChild(row1);

                // Add rows based on the number of questions
                for (var i = 1; i <= question; i++) {
                    var row = table.insertRow();
                    var cell1 = row.insertCell();
                    cell1.textContent = i;

                    var cell2 = row.insertCell();
                    var input = document.createElement("input");
                    input.type = "text";
                    input.placeholder = "Enter question " + i;
                    input.id = "question";

                    cell2.appendChild(input);
                    var br4 = document.createElement("br");
                    cell2.appendChild(br4);

                    cell3 = row.insertCell();
                    var opption = document.createElement("button");
                    opption.textContent = "Radio";

                    var opt = document.createElement("input");
                    opt.type = "radio";


                    cell2.appendChild(opt);
                    var optField = document.createElement("input");
                    optField.type = "text";
                    optField.id = "option1";
                    optField.style.border = "none";
                    cell2.appendChild(optField);
                    optField.style.borderBottom = "1px solid black";
                    var br4 = document.createElement("br");
                    cell2.appendChild(br4);
                    var opt2 = document.createElement("input");
                    opt2.type = "radio";
                    cell2.appendChild(opt2);

                    var optField2 = document.createElement("input");
                    optField2.type = "text";
                    optField2.id = "option2";
                    optField2.style.border = "none";
                    optField2.style.borderBottom = "1px solid black";
                    cell2.appendChild(optField2);
                    var br4 = document.createElement("br");
                    cell2.appendChild(br4);

                    var opt3 = document.createElement("input");
                    opt3.type = "radio";
                    cell2.appendChild(opt3);
                    var optField3 = document.createElement("input");
                    optField3.type = "text";
                    optField3.id = "option3";
                    optField3.style.border = "none";
                    optField3.style.borderBottom = "1px solid black";
                    cell2.appendChild(optField3);
                    /*opption.onclick = showoptions;
                    //options
                    function showoptions() {

                        var opt = document.createElement("input");
                        opt.type = "radio";
                        cell2.appendChild(opt);
                        var optField = document.createElement("input");
                        optField.type = "text";
                        optField.style.border = "none";
                        cell2.appendChild(optField);
                        optField.style.borderBottom = "1px solid black";
                        var br4 = document.createElement("br");
                        cell2.appendChild(br4);
                        var opt2 = document.createElement("input");
                        opt2.type = "radio";
                        cell2.appendChild(opt2);

                        var optField2 = document.createElement("input");
                        optField2.type = "text";
                        optField2.style.border = "none";
                        optField2.style.borderBottom = "1px solid black";
                        cell2.appendChild(optField2);
                        var br4 = document.createElement("br");
                        cell2.appendChild(br4);

                        var opt3 = document.createElement("input");
                        opt3.type = "radio";
                        cell2.appendChild(opt3);
                        var optField3 = document.createElement("input");
                        optField3.type = "text";
                        optField3.style.border = "none";
                        optField3.style.borderBottom = "1px solid black";
                        cell2.appendChild(optField3);
                }
*/



                    var opption2 = document.createElement("button");
                    opption2.textContent = "ChechBox";
                    cell3.appendChild(opption);
                    cell3.appendChild(opption2);
                    row1 = table.insertRow();
                    const saveButton = document.createElement("button");
                    saveButton.textContent = "Save Quiz";
                    saveButton.onclick = function () {
                        for (let i = 1; i <= QuestionCount; i++) {
                            const question = document.getElementById(`question-${i}`).value;
                            const options = [
                                document.getElementById(`option1-${i}`).value,
                                document.getElementById(`option2-${i}`).value,
                                document.getElementById(`option3-${i}`).value,
                            ];

                            if (question.trim() && options.every(opt => opt.trim())) {
                                quizData.push({ question, options });
                            }
                        }

                        if (quizData.length) {
                            localStorage.setItem("quizData", JSON.stringify(quizData));
                            alert("Quiz saved successfully!");
                        } else {
                            alert("Please fill out all questions and options.");
                        }
                    };
                    row1.appendChild(saveButton);
                }

                document.body.appendChild(table);


            }

        }



    </script>
</body>

</html>